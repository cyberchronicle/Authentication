### Общее описание

Локально запустить можно через docker compose.

Только ручки `/register`, `/refresh` и `/login` должны могут быть доступны в публичном апи. 

`/userinfo` может использоваться любыми внутренними сервисами. 

`/auth` должна использоваться nginx-ом для аутентификации.

`/role` только для дебага, ей пользоваться нельзя.

На `http://localhost:8080/swagger-ui/index.html` неполное описание.

### Токены
При регистрации выдается пара токенов - рефреш и аксесс (доступа), см openapi.

Для аутентификации необходимо передать заголовок `Authorization: Bearer <token>` в `/auth`. Допустим
только токен доступа. Если передан кривой или протухший токен, в ответе будет 401 или 403.

В ответ на `/auth` должны прийти 2 заголовка `X-User-Id` и `X-User-Roles`.

Только рефреш токен можно использовать для получения новой пары токенов по ручке `/refresh`,
передав его в заголовке `Authorization`. Повторно использовать
один и тот же рефреш токен нельзя. Логин создает новую пару токенов, не инвалидирует уже активные рефреш токены.
Токен доступа протухает в течение нескольких минут (3), рефреш доступен в течение нескольких дней.
